# Dockerfile для Node.js backend
FROM node:18-alpine

WORKDIR /app

# Копируем package.json и устанавливаем зависимости
COPY package*.json ./
RUN npm ci --only=production

# Копируем backend файлы
COPY server.cjs ./
COPY app.cjs ./
COPY config ./config
COPY middleware ./middleware
COPY services ./services
COPY controllers ./controllers
COPY routes ./routes
COPY utils ./utils

EXPOSE 3000

CMD ["node", "server.cjs"]
